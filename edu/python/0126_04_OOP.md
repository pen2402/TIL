# OOP

## 객체지향 프로그래밍

- 프로그램을 여러 독립된 객체들과 그 객체들 간 상호작용으로 파악하는 프로그래밍 방법
- 프로그램을 유연하고 변경이 용이하게 만들고 개발과 유지보수를 간편하게 함
- 보다 직관적인 코드 분석 가능



## OOP 기초

- 클래스 : 객체들의 분류(class)
  - Pascal case(Upper Camel case) : 클래스 이름의 단어 첫 글자는 대문자(`MyClass` 등)
  - Lower Camel case : 클래스 첫 단어 외 단어 첫 글자 대문자(`lowerCamelCase` 등)

- 인스턴스 : 하나하나의 실체/예(instance)
- 속성 : 특정 데이터 타입/클래스의 객체들이 가지게 될 상태/데이터를 의미
- 메서드 : 특정 데이터 타입/클래스의 객체에 공통적으로 적용 가능한 행위(함수)
- `==`
  - 변수가 참조하는 객체가 내용이 같은 경우(값과 데이터 타입이 같은 경우) `True`
  - 두 객체가 같아 보이나 실제로 동일한 가리키고 있다고 확인해준 것은 아님
- `is`
  - 두 변수가 동일한 객체를 가리키는 경우(id가 같은 경우) `True`



## 인스턴스

- 인스턴스 변수
  - 인스턴스가 개인적으로 가지고 있는 고유한 변수
  - 생성자 메서드에서 `self.<name>`으로 정의
  - 생성된 이후 `<instance>.<name>`으로 접근 및 할당
- 인스턴스 메서드
  - 인스턴스 변수를 사용하거나 인스턴스 변수에 값을 설정하는 메서드
  - 클래스 내부에 정의되는 메서드의 기본
  - 호출 시 첫 번째 인자로 인스턴스 자기자신(`self`)이 전달됨
  - 인스턴스 메서드 첫 번째 인자의 매개변수 이름을 `self`로 하는 암묵적 규칙
- 생성자 메서드
  - 인스턴스 객체가 생성될 때 자동으로 호출되는 메서드(`__init__`)
  - 인스턴스 변수들의 초기값을 설정(인스턴스 생성)
- 소멸자(destructor) 메서드
  - 인스턴스 객체가 소멸되기 직전에 호출되는 메서드(`__del__`)
- 매직 메서드(스페셜 메서드)
  - 특수한 동작을 위해 만들어진 메서드로, Double underscore(`__`)가 있음
  - 특정 상황에 자동으로 불리는 메서드
    - `__str__(self)` : `print()` 함수로 인스턴스 출력 시 해당 인스턴스의 출력 형태를 지정
    - `__len__(self)` : 
    - `__repr__(self)` : 해당 인스턴스의 출력 형태를 지정(개발자가 알아보기 쉽도록)
    - `__lt__(self, other)` : less than(`<`)
    - `__le(self, other)` : less than or equal(`<=`)
    - `__eq__(self, other)` : equal(`==`)
    - `__gt__(self, other)` : greater than(`>`)
    - `__ge__(self, other)` : greater than or equal(`>=`)
    - `__ne__(self, other)` : not equal(`!=`)



## 클래스

- 클래스 변수
  - 한 클래스의 모든 인스턴스라도 똑같은 값을 가지고 있는 속성(인스턴스 공용 변수)
  - 클래스 선언 내부에서 정의(`<classname>.<name>`으로 접근 및 할당)
  - 클래스 이름 대신 인스턴스 이름을 쓰면 인스턴스 변수로 설정(인스턴스 내부에 할당)
- 클래스 메서드
  - `@classmethod` 데코레이터를 사용하여 정의
    - 데코레이터 : 함수를 어떤 함수로 꾸며 새로운 기능 부여
  - 호출 시 첫 번째 인자로 클래스(`cls`) 전달
  - 클래스 메서드 첫 번째 인자의 매개변수 이름을 `cls`로 하는 암묵적 규칙
- 스태틱 메서드
  - 인스턴스 변수, 클래스 변수를 전혀 다루지 않는 메서드
  - 클래스가 사용할 메서드
  - `@staticmethod` 데코레이터를 사용하여 정의
  - **호출 시 어떠한 인자도 전달되지 않음**(클래스 정보에 접근/수정 불가)

- 인스턴스와 클래스 간의 이름 공간(namespace)
  - 클래스와 해당하는 이름 공간 생성 : 클래스 정의 시
  - 인스턴스 객체와 이름 공간 생성 : 인스턴스 생성 시
  - 인스턴스에서 특정 속성에 접근하면 인스턴스 - 클래스 순으로 탐색



## 객체 지향의 핵심개념

### 추상화

- 현실 세계를 프로그램 설계에 반영



### 상속

- 두 클래스 사이 부모-자식 관계를 정립하는 것

  - ```python
    class <자식 클래스>(<부모 클래스>):
        pass
    ```

- 클래스는 상속 가능(모든 파이썬 클래스는 객체를 상속 받음)

- 하위 클래스는 상위 클래스에 정의된 속성, 행동, 관계 및 제약 조건을 모두 상속 받음(메서드 재사용 가능)

- `isinstance(object, classinfo)`
  - `object`가 `classinfo`의 인스턴스이면 `True`, 아니면 `False` 반환

- `issubclass(class, classinfo)`
  
  - `class`가 `classinfo`의 subclass(상속)이면 `True`, 아니면 `False`
  
- `super()`
  
  - 자식클래스에서 부모 클래스를 사용하고 싶은 경우 사용
  - `super().__init__(name, age, number)` 등
  
- 상속 관계에서 이름 공간은 인스턴스 - 자식 클래스 - 부모 클래스 순으로 탐색

- 다중 상속에서 중복되는 속성이나 메서드는 먼저 상속 받는 쪽의 것으로 상속 받음

- mro 메서드(Method Resolution Order)
  - `.mro()` : 해당 인스턴스의 클래스 상속 관계를 확인하는 메서드




### 다형성

- 동일한 메서드가 클래스에 따라 다르게 행동할 수 있음을 의미
- 서로 다른 클래스에 속해있는 객체들이 동일한 메시지에 대해 다른 방식으로 응답될 수 있음
- 메서드 오버라이딩(파이썬에서 오버로딩은 지원하지 않음)
  - 상속 받은 메서드를 재정의(같은 이름의 메서드로 덮어씀)
  - 부모 클래스의 메서드 이름과 기본 기능은 그대로 사용하나, 특정 기능을 바꾸고 싶을 때 사용
  - 부모 클래스의 메서드는 `super()`를 활용하여 실행




### 캡슐화

- 객체의 일부 구현 내용에 대한 외부로부터 직접적인 액세스를 차단
- 파이썬에서 언어적으로 존재하지는 않음(암묵적으로 존재)
- Public Member
  - 언더바가 없이 시작하는 메서드나 속성
  - 어디서나 호출 가능
  - 하위 클래스 `override` 허용
- Protected Member
  - 언더바 1개(`_`)로 시작하는 메서드나 속성
  - 암묵적 규칙에 의해 부모 클래스 내부와 자식 클래스에서만 호출 가능
  - 하위 클래스 `override` 허용
- Private Member
  - 언더바 2개(`__`)로 시작하는 메서드나 속성
  - 본 클래스 내부에서만 사용 가능
  - 하위클래스 상속 및 호출 불가능(오류)
  - 외부 호출 불가능(오류)
  - getter 메서드
    - 변수의 값을 읽는 메서드
    - `@property` 데코레이터 사용
  - setter 메서드
    - 변수의 값을 설정하는 메서드
    - `@<getter>.setter` 데코레이터 사용(getter 메서드가 있어야 함)