# 보조기억장치

## 자기 디스크 장치

- 자기 디스크(Magnetic Disk Unit)은 하드 디스크라고도 함
- 순차 접근, 랜덤 접근이 가능하며 속도가 빠르고 기억용량도 크므로 보조기억장치로 널리 사용됨

### 원리

- 전류가 흐르는 헤드의 자성으로 디스크 표면의 미세 자성체의 극성을 변화시켜 기록
- 헤드의 코일에 극성을 띤 전류를 흐르게 하면 자장 성분이 발생해 디스크 표면에 자성 패턴이 저장됨
- 읽기 동작은 자장이 형성된 곳을 코일이 지나가면 전류가 발생하는 현상을 이용

### 구조

- 일반적으로 디스크 드라이브와 디스크 팩으로 구성
- 디스크 팩
  - 자기 드럼 대신에 레코드판과 같은 원판의 안팎에 자성물질을 도포한 자기 디스크로 이뤄짐
  - 기록 및 판독 원리는 자기 테이프나 자기 드럼 장치와 같음
  - 디스크 팩의 크기는 고정적인 디스크에 비해 일반적으로 작으나 기억용량은 큼
- 헤드
  - 수 겹의 자기 디스크를 고속으로 회전시키고 각 디스크 안팎에 부착된 자기 헤드로 기록 또는 판독
  - 자기 헤드와 디스크와의 간격은 매우 좁음
- 액세스 암
  - 액세스 암을 움직여 액세스 암에 부착된 헤드로 원하는 트랙을 찾아 데이터를 판독 또는 기록
- 트랙
  - 한 면의 디스크 위 데이터가 기록되는 200여 개의 동심원
  - 트랙의 길이는 바깥쪽에 위치할수록 안쪽보다 더 길어짐
  - 읽기 쓰기 장치를 간단하게 설계하기 위해 트랙당 저장 데이터 비트 수는 같게 됨
  - 저장 밀도는 안쪽 트랙이 더 높아짐
    - 디스크 평판이 등각속도로 회전하는 상태에서도 데이터를 동일한 비율로 액세스할 수 있음
  - 연속적인 통로로 보이나 실제로는 여러 섹터들로 분리되어 있음
  - 트랙 간 갭
    - 헤드가 잘못 정렬되거나 자장의 간섭 때문에 발생하는 오류를 방지하기 위한 트랙 사이의 간격
- 실린더
  - 디스크의 중심축으로부터 동일 거리에 위치하고 있는 트랙의 모임
- 섹터
  - 디스크에 한 번에 쓰거나 읽는 데이터 크기의 최소 단위(대부분 디스크에서 512바이트)
  - 디스크에 데이터를 저장하거나 읽을 때는 블록 단위로 이뤄짐
    - 각 섹터에 저장할 수 있는 데이터 용량이 그 블록 크기에 해당
  - 섹터 간 갭
    - 섹터 사이의 간격

### 접근 시간(Access Time)

- 메모리 내의 특정 위치에 도달해서 그 내용을 읽어 들이거나 기록하는 데 필요한 평균 시간
- 자기 디스크 장치에서 데이터의 기억과 탐색은 트랙을 기준으로 이뤄짐
- 데이터를 저장하는 경우 저장된 데이터는 트랙 형식에 맞춰 기록됨
- 구성
  - 탐색 시간(Seek Time)
    - 디스크 상에 기록된 내용을 찾기 위해 실린더의 위치까지 액세스 암이 도달하는 데 걸리는 시간
    - 기계적 이동이므로 시작 시간이 필요하며 여러 트랙들을 지나가게 되면 적어도 수 ms 이상 걸림
    - 지역성이 높은 경우 헤드의 이동 거리들이 짧아지므로 평균 탐색 시간을 크게 단축시킬 수 있음

  - 회전 지연 시간(Rotational Delay Time)
    - 회전하고 있는 디스크 위에 헤드가 위치한 후 찾고자 하는 데이터 레코드의 기록 부분이 헤드 아래까지 오는 데 걸리는 시간

  - 데이터 전송 시간(Data Transfer Time)
    - 주기억장치와 자기 디스크 장치 간에 데이터의 전송을 위해 걸리는 시간

- 자기 디스크는 자기 드럼의 기억용량보다 훨씬 크고 접근시간(Access Time)도 더 짧음

### 성능 발전 환경

- 용량 증가와 함께 성능을 개선해 데이터 속도를 개선하는 것
- 기계장치를 포함한 하드 디스크 자체의 속도보다 자기 디스크와 메인보드 사이의 전송방식 개선하려고 함
- 전송 속도를 높이기 위해 I/O 버스 인터페이스를 최적화하는 것을 목표로 함
- 자기 디스크 인터페이스 방식
  - 병렬 방식
    - ISA(Industry Standard Architecture)
      - IDE 방식 이전의 대표적인 인터페이스 방식
    - ATA / IDE(Advanced Technology Attachment / Intelligent Drive Electronic)
      - PC에서 별도의 인터페이스 카드 없이 HDD와 CD-ROM 등을 함께 사용할 수 있는 저렴한 방식
    - SCSI(Small Computer System Interface)
      - ATA/IDE보다 진보한 방식으로 HDD, CD-ROM, 스캐너 등의 여러 종류의 소자를 함께 지원
  - 직렬 방식
    - SATA(Small ATA)
      - 최소 4 가닥의 선으로 장치 간을 point-to-point 방식으로 연결하는 규격
      - eSATA는 SATA 방식의 외부 인터페이스 표준
    - SAS(Serial Attached SCSI)
      - 병렬 SCSI에 비해 고속의 인터페이스 구현



## RAID

### 등장 배경

- 기계적 장치들이 많이 포함된 디스크는 반도체 기억장치와 달리 속도 개선이 현저히 느리게 발전
- RAID(Redundant Array of Inexpensive Disks)
  - 여러 개의 작은 디스크들을 배열 구조로 연결하여 하나의 유닛으로 패키지함
    - 액세스 속도를 크게 향상시키고 신뢰도를 높임
    - 동시 액세스(Concurrent Access)하는 것이 가능해짐
- 디스크 인터리빙(Disk Interleaving)
  - 데이터 블록들을 여러 개의 디스크들에 분산 저장하는 기술
- 여러 개의 장치를 연결해 전체 평균고장수명(MTTF)이 줄어 고장이 날 확률이 증가함
  - 평균고장수명(MTTF, Mean Time To Failure)
    - 사용 후 고장(결함)이 발생하기까지 기간 평균치
    - 수리가 가능한 장치와 수리가 불가능한 장치 모두에 적용
  - 평균수리시간(MTTR, Mean Time To Repair)
    - 고장이 나는  장치의 수리에 걸리는 시간 평균치
  - 평균고장간격(MTBF, Mean Time Between Failure)
    - 고장이 난 시점부터 수리 후 다시 고장이 날 때까지 시간 간격 평균치

### RAID 레벨

- RAID 레벨 0
  - 패리티가 없는 스트라이핑 세트를 사용
    - 오류 검출 기능을 제공하지 않음
    - 데이터 스트라이핑(Data Striping)
      - 데이터를 여러 개의 디스크에 똑같은 크기의 스트라이프 단위로 나눠 분산 저장하는 방법
  - 개선된 성능에 추가적인 기억장치를 제공하는 게 장점이나 실패할 경우 자료의 안전을 보장할 수 없음
  - 디스크에서 실패가 일어나면 배열을 파괴
    - 디스크를 많이 장착할수록 가능성이 더 높음
- RAID 레벨 1
  - 한 개 이상의 디스크에 데이터를 중복해 저장하고 데이터를 분산하지는 않음
  - 디스크 미러링 구조
    - 하나의 드라이버가 고장 나더라도 다른 드라이버를 통해 완벽한 복구 가능

  - 속도가 다른 두 개의 디스크를 묶어 사용할 때는 액세스 속도가 빠른 디스크에서 읽음
  - 쓰기 동작은 두 디스크에 동시에 수행
    - 쓰기 동작 시 두 디스크의 헤드 위치가 서로 다르면 더 오래 걸리는 디스크의 쓰기가 완료되어야 끝남
  - 구조는 간단하나 용량이 크게 줄고 비용이 많이 듦
  - 데이터를 두 개의 디스크에 중복 저장하므로 높은 신뢰도를 요구하는 결함허용시스템에 주로 사용
  - 랜덤 읽기와 랜덤으로 한 블록만 쓰는 작은 쓰기가 많은 환경에서 높은 성능

- RAID 레벨 2
  - 각 디스크에 데이터를 비트 단위로 분산 저장
  - 해밍코드로 여분의 패리티 비트를 계산해 여러 개의 검사 디스크에 저장
    - 2^C ≥ C+D+1
      - C : 검사 디스크 수
      - D : 가능한 데이터 디스크 수

    - 전체 디스크 수가 늘어나면 오류가 발생할 위치를 찾기 위해 검사 디스크도 점점 늘어남
    - 디스크 배열의 수가 증가할수록 전체 디스크 중에서 검사 디스크가 차지하는 비율은 점차 줄어듦
    - 많은 오류가 발생하는 환경에서 사용하는 것이 효과적
    - RAID 레벨 1보다 필요한 디스크 수는 적으나 가격이 높아 거의 사용하지 않음

- RAID 레벨 3
  - 각 디스크에 데이터를 바이트 단위로 분산 저장하고 패리티 바이트를 저장할 하나의 검사 디스크만 사용
    - 데이터를 바이트 단위로 관리하는 별도의 하드웨어가 추가로 필요
  - 어떤 데이터 디스크에 결함이 발생하더라도 다른 디스크들의 데이터를 이용해 데이터 복구 가능
  - 기록할 때마다 패리티 바이트를 계산해 검사 디스크에 넣어야 하므로 여전히 성능이 감소됨
  - RAID 2와 RAID 3 방식은 모든 데이터 디스크에서 동시에 읽기와 쓰기 동작이 진행
    - 입출력 버스의 여러 하드디스크 인터페이스 채널을 빠르게 교대로 액세스해야 하므로 부하 발생

- RAID 레벨 4
  - 각 디스크에 데이터를 블록 단위로 분산 저장하고 패리티 정보도 하나의 검사 디스크에 블록 단위로 저장
    - 스트라이프 크기가 RAID 3은 바이트 단위, RAID 4는 블록 단위
  - RAID 2나 3에 비해 디스크 액세스 횟수가 줄어듦
  - 어떤 디스크에서든지 데이터 블록을 쓸 때마다 패리티 디스크가 반드시 두 번씩 액세스되어야 함
    - 패리티 디스크에 액세스들이 집중되기 때문에 병목 현상 발생
  
- RAID 레벨 5
  - 패리티 블록을 여러 개의 디스크에 분산 저장
    - 패리티 디스크의 병목 현상을 없애 여러 개의 동시 쓰기가 가능
    - 패리티 정보가 분산 저장되어 있어 액세 스 요구들이 모든 디스크들에 적절히 분배
  
  - 액세스할 데이터 블록의 크기와 입출력 요구 형태에 관계없이 좋은 성능을 보임
  - 순차적인 여러 블록을 동시에 쓰는 큰 쓰기와 순차적인 블록 읽기에 유리
    - 작은 쓰기 문제(Small Write Problem)
      - 랜덤으로 디스크 액세스 시 RAID 레벨 1보다 낮은 성능
      - 랜덤으로 작은 쓰기가 많은 환경에서는 성능이 현저하게 떨어짐




## 광디스크 저장장치

### 읽기전용형

- 공장에서 출하할 때 씌어져 있는 데이터는 고쳐 쓸 수 없음
- 알루미늄 판 표면 위 피트(Pit)에 저장되며 피트에 닿은 레이저 광산의 반사 방법으로 1과 0을 식별
- CD-ROM에서는 중심에서 외측을 향해 나선형으로 트랙을 따라 순차적으로 저장
  - 모든 섹터의 저장 밀도는 동일하나 등선속도(CLV) 방식을 이용함으로써 전송속도를 일정하게 유지
- CLV 방식은 CAV 방식과 달리 바깥쪽 트랙 부분의 저장 공간이 낭비되지 않음
  - 등선속도(CLV, Constant Linear Velocity) 방식
    - 늘 일정한 데이터 전송량을 보장하기 위해 디스크 중심에 가까울수록 회전 속도를 빠르게 하는 방식
    - 섹터 위치에 관계없이 표면을 지나는 헤드의 속도가 일정하여 트랙 전체의 저장 밀도를 균일하게 함
  
  - 등각속도(CAV, Constant Angular Velocity) 방식
    - 디스크 평판이 일정한 속도로 회전하여 데이터를 동일한 비율로 액세스
    - 트랙 간 저장 밀도가 달라 디스크 저장 공간이 비효율적으로 사용됨
  
- CD-ROM 특징
  - 데이터 저장 용량이 매우 큼
  - 저렴한 가격으로 대량 복제 가능
  - 읽기만 가능하고 내용을 변경할 수 없음
  - 액세스 시간이 자기 디스크보다 훨씬 긺

### 추기형

- 데이터의 소거나 고쳐쓰기는 불가능하지만 필요에 따라 데이터를 추가로 기록할 수 있는 방식
- WO(Write-Once) 또는 WORM(Write-One Read-May)이라 부름
- 업무용 광디스크 중에서는 처음으로 실용화한 것
- 증서 등 지워지면 곤란한 데이터를 장기간 보존하는 전자파일링 시스템으로 이용

### 고쳐쓰기형

- 데이터의 출력만이 아닌 데이터의 소거나 고쳐쓰기도 가능한 광자기 디스크
- MO(Magneto-Optical Disc)라 부름
- 디스크상의 강자성체에 레이저 광선을 쏘아 자기를 없앤 후 열이 식어 자력이 생길 때 데이터를 기록
- 극성화가 디스크의 물리적 변화를 유발하지는 않기 때문에 그 과정이 여러 번 반복될 수 있음
- 극성을 띤 레이저 광에 의해 검출된 자화 방향에 따라 극성을 감지
- 디스크 수명이 긺
  - 추기형은 쓰기 동작을 반복하면 매체의 질이 점점 저하되나 고쳐쓰기형은 저하 현상이 일어나지 않음



## USB 메모리

### 내부 구조

- USB(Universal Serial Bus)
  - 컴퓨터와 주변기기 사이에 데이터를 주고받을 때 사용하는 버스규격 중 하나
  - 컴퓨터 전원이 켜진 상태에서도 자유롭게 장치를 꽂고 뺄 수 있어 편의성이 높음
- 플래시 메모리(Flash Memory)
  - 데이터를 저장, 보관할 수 있는 반도체의 일종
  - 자유롭게 데이터를 저장하거나 삭제할 수 있으면서 전원이 꺼져도 데이터가 그대로 보존
  - 종류
    - SLC(Single Level Cell) 방식
      - 1개의 기억 소자당 1비트의 데이터 저장
      - 안정성이 높고 데이터 처리 속도가 빠르나 가격이 비쌈
    - MLC(Multi Level Cell) 방식
      - 1개의 기억소자당 2비트 이상의 데이터를 저장할 수 있음
      - SLC 방식보다 안정성과 속도는 낮으나 단가가 저렴하여 대용량 제품을 대량 생산할 수 있음
- USB 플래시 드라이브(USB Flash Drive)
  - 데이터를 저장하는 플래시 메모리 칩, 커넥터와 메모리 칩의 데이터 전송을 제어하는 컨트롤러로 구성

### USB 버스

- USB 1.0
  - 1996년 1월에 발표
  - 대형 컴퓨터 관련 업체들이 다수 개발에 참가하여 비교적 쉽게 업계 표준을 인정받을 수 있음
  - 특허 사용료가 무료였기 때문에 규모가 작은 업체에서도 저렴하게 USB 관련 기기를 생산할 수 있었음
  - 1997년 윈도우 95 OSR2부터 USB를 정식 지원
  - 1998년 데이터 전송 및 전원 공급 기능의 안정성을 개선한 USB 1.1이 발표되며 본격적인 보급 시작
  - 데이터 전송률이 최대 12Mbps
- USB 2.0
  - 2000년 발표
  - 이론상 데이터 전송률 최대 480Mbps
    - 실제 속도는 240Mbps
  - 2001년 윈도우 XP에서 별도의 소프트웨어 설치 없이도 상당수의 USB 장치들을 사용할 수 있었음
  - 2002년 서비스 팩 1에서 USB 2.0을 지원
- USB 3.0
  - 2008년 SIG(Special Interest Group)에서 표준안 작업이 완료되어 발표
    - 2010년 출시
  - 데이터 전송률이 최대 5Gbps
  - 포트의 전력 공급 능력도 USB 2.0의 5V 500mA에서 5V/12V 900mA로 향상
  - 파란색의 포트를 사용할 것을 USB-IF에서 권장
    - USB-IF(USB Implementers Forum) : USB 표준을 정하는 협회
  - USB는 서로 다른 버전의 기기끼리 연결해도 작동이 가능
    - 양쪽 기기 중 낮은 버전의 성능으로 동기화



## 자기버블 메모리

- 자기 버블(Magnetic Bubble)
  - 박판 면에 수직으로 생긴 자구
- 1967년 벨 연구소에서 개발
- 자성 박막에 자기 버블을 형성하여 시프트 레지스터처럼 이동시킬 수 있는 구조
  - 박막 위 자기 버블을 트랙에 따라 이동시켜 프로그램이나 데이터의 기록 및 판독 가능

- 저전력, 고밀도, 비휘발성, 고신뢰성 등의 특징을 가지나 인터페이스가 복잡함



## CCD 메모리

- 1969년 벨 연구소에서 개발
- MOS 커패시터로 구성된 시프트 레지스터
- 실리콘 기판 위에 얇은 산화실리콘 박막을 붙이고 그 위에 다수의 전극으로 구성
- 전극과 기판 간 펄스 전압을 인가하여 전극 밑의 전하 패킷을 형성
  - 이를 전극에 대한 인가 전압의 이동에 의해 이동시킬 수 있음
- 인터페이스 회로가 간단하고 주변 회로를 동일 칩에 집적할 수 있고 소비전력이 적으나 휘발성임
- 천체 망원경, 스캐너, 바코드 판독기, 디지털 카메라의 화소 메모리 등으로 사용
