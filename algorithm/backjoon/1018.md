# 체스판 다시 칠하기

```python
N,M = map(int, input().split())
board = []
l = []

for k in range(N):
    board.append(input())
for n in range(N-7):
    for m in range(M-7):
        w_odd, b_odd, w_even, b_even = 0, 0, 0, 0
        for i in range(8):
            for j in range(8):
                if (i+j)%2 == 0:
                    if board[n+i][m+j] == 'W':
                        w_odd += 1
                    else:
                        b_odd += 1
                if (i+j)%2 == 1:
                    if board[n+i][m+j] == 'W':
                        w_even += 1
                    else:
                        b_even += 1
        l.append(min(w_odd+b_even, w_even+b_odd))

print(min(l))
```

