# 인구 이동

```python
import sys

input = sys.stdin.readline

def bfs():
    visited = [[0] * N for _ in range(N)]
    flag = False
    for i in range(N):
        for j in range(N):
            if not visited[i][j]:
                queue = [[i, j]]
                visited[i][j] = 1
                queue_idx = 0
                total = A[i][j]
                cnt = 1
                while queue_idx < len(queue):
                    i_idx, j_idx = queue[queue_idx]
                    queue_idx += 1
                    for dy, dx in delta:
                        if N > i_idx+dy >= 0 and N > j_idx+dx >= 0:
                            if R >= abs(A[i_idx][j_idx]-A[i_idx+dy][j_idx+dx]) >= L:
                                if not visited[i_idx+dy][j_idx+dx]:
                                    queue.append([i_idx+dy, j_idx+dx])
                                    visited[i_idx+dy][j_idx+dx] = 1
                                    total += A[i_idx+dy][j_idx+dx]
                                    cnt += 1
                if len(queue) > 1:
                    flag = True
                    p = total // cnt
                    for i_idx, j_idx in queue:
                        A[i_idx][j_idx] = p
    return flag

delta = [(-1, 0), (0, 1), (1, 0), (0, -1)]

N, L, R = map(int, input().split())
A = [list(map(int, input().split())) for _ in range(N)]

res = 0
while bfs():
    res += 1
print(res)
```

