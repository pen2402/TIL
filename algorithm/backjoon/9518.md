# 로마 카톨릭 미사

```python
import sys

input = sys.stdin.readline

def solution():
    R, S = map(int, input().split())
    board = [input() for _ in range(R)]
    delta = [(-1, 0), (-1, 1), (0, 1), (1, 1), (1, 0), (1, -1), (0, -1), (-1, -1)]
    res = max_cnt = 0
    for r in range(R):
        for c in range(S):
            cnt = 0
            for dr, dc in delta:
                if R > r+dr >= 0 and S > c+dc >= 0:
                    cnt += board[r+dr][c+dc] == 'o'
            if board[r][c] == 'o':
                res += cnt
                cnt += 1
            elif cnt > max_cnt:
                max_cnt = cnt
    print(res//2+max_cnt)

solution()
```

