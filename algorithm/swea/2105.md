# [모의 SW 역량테스트] 디저트 카페

```python
def move(i_idx, j_idx, left, right):
    global res
    visited = [0] * 101
    visited[dessert[i_idx][j_idx]] = 1
    cnt = 1
    for l in range(1, left+1):
        n = dessert[i_idx+l][j_idx-l]
        if visited[n]:
            return
        visited[n] = 1
        cnt += 1
    for l in range(1, right+1):
        n = dessert[i_idx+left+l][j_idx-left+l]
        if visited[n]:
            return
        visited[n] = 1
        cnt += 1
    for r in range(1, right+1):
        n = dessert[i_idx+r][j_idx+r]
        if visited[n]:
            return
        visited[n] = 1
        cnt += 1
    for r in range(1, left):
        n = dessert[i_idx+right+r][j_idx+right-r]
        if visited[n]:
            return
        visited[n] = 1
        cnt += 1
    if cnt > res:
        res = cnt

T = int(input())
for t in range(1, T+1):
    N = int(input())
    dessert = [list(map(int, input().split())) for _ in range(N)]
    res = -1
    for i in range(N):
        for j in range(N):
            for l in range(1, N-1):
                for r in range(1, N-l):
                    if N-r > j >= l and i < N-(l+r):
                        move(i, j, l, r)
    print(f'#{t} {res}')
```

